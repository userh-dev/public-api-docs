<!DOCTYPE html>

<html class="h-100" lang="en">

    <head>

        <title>UseRH's API Reference</title>

        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width,initial-scale=1" />
        <meta name="description" content="A look at UseRH's APIs." />

        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">

        <link rel="stylesheet" type="text/css" href="style.css" />

    </head>

<body class="bg-dark d-flex flex-column h-100">

    <main class="flex-shrink-0">
        <div class="container text-white mt-5">

            <div class="row">
        
              <div class="col-sm-1"></div>
        
              <div class="col-sm-10">
                  <h1>UseRH's API Reference (Staging)</h1>
        
                  <div class="accordion accordion-flush mt-3 text-black" id="accordionFlushExample">
                    <div class="accordion-item">
                      <h2 class="accordion-header" id="flush-headingOne">
                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseOne" aria-expanded="false" aria-controls="flush-collapseOne">
                          Authentication
                        </button>
                      </h2>
                      <div id="flush-collapseOne" class="accordion-collapse collapse" aria-labelledby="flush-headingOne" data-bs-parent="#accordionFlushExample">
                        <div class="accordion-body">
                            <p>Base URL: <code>https://account.hmg.userh.host</code></p>
        
                            <p>Authorization endpoint: <code><strong>GET</strong> https://account.hmg.userh.host/oauth/authorize</code></p>
        
                            <p>Token endpoint: <code><strong>POST</strong> https://account.hmg.userh.host/oauth/token</code></p>
        
                            <p>Logged in user info endpoint: <code><strong>GET</strong> https://account.hmg.userh.host/api/user</code></p>
        
                            <p>UseRH's authentication/authorization uses OAuth 2.0, and it's implemented with Laravel Passport. The consumer must obtain an access token through the <a href="https://auth0.com/docs/get-started/authentication-and-authorization-flow/authorization-code-flow-with-proof-key-for-code-exchange-pkce">Authorization Code Flow with PKCE</a> (see image for details about how it works).</p>
        
                            <p>An example of how to consume is included in <a href="https://laravel.com/docs/9.x/passport#code-grant-pkce">Laravel Passport documentation</a>.</p>

                            <p>The idea is to request an authorization code using the authorization endpoint (with PKCE). Once the user logs in and authorizes the request, the Authz server will redirect back to the consuming application, which can use the authorization code to generate an access token using the token endpoint. With this access token, the consuming application can now access the logged in user information endpoint and any other endpoint available through our APIs.</p>
                        </div>
                      </div>
                    </div>
                    <div class="accordion-item">
                      <h2 class="accordion-header" id="flush-headingThree">
                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseThree" aria-expanded="false" aria-controls="flush-collapseThree">
                          Administration Endpoints
                        </button>
                      </h2>
                      <div id="flush-collapseThree" class="accordion-collapse collapse" aria-labelledby="flush-headingThree" data-bs-parent="#accordionFlushExample">
                        <div class="accordion-body">
                            <p>Base URL: <code>https://api.hmg.userh.host</code></p>
        
                            <a class="btn btn-primary" href="admin/index.html" role="button">Access endpoint documentation</a>
        
                            <div class="alert alert-warning mt-3" role="alert">
                                Important: Replace <code>/api/v1</code> with <code>/v1/admin</code> to use the endpoints. Also remember to include <code>Authorization</code> header with the "Bearer" access token provided by our authentication.
                            </div>
                        </div>
                      </div>
                    </div>
                  </div>
        
        
              </div>
        
              <div class="col-sm-1"></div>
        
            </div>
        
          </div>
    </main>

    <footer class="footer mt-auto py-3">
        <div class="container">
            <div class="row">
                <div class="col-sm-1"></div>
                <div class="col-sm-10">
                    <p class="text-white">Este site também está disponível em <a href="pt/index.html">Português</a>.</p>
                    <span class="text-white">© 2022 UseRH. All rights reserved.</span>
                </div>
                <div class="col-sm-1"></div>
            </div>
        </div>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.10.2/dist/umd/popper.min.js" crossorigin="anonymous"></script>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.min.js" crossorigin="anonymous"></script>

</body>

</html>